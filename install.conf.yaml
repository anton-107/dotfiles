- defaults:
    link:
        relink: true

- clean: ['~']

- link:
    ~/.vimrc: .vimrc
    ~/.zshrc: 
      path: .zshrc
      force: true

- shell:
    - [git submodule update --init --recursive, Installing submodules]
    - [sh -c "$(curl -fsSL https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh)" || echo "Skipping oh-my-zsh", Installing oh-my-zsh]
    - [grep "zsh" ~/.bashrc || echo "zsh" >> ~/.bashrc, Adding zsh to bashrc]
    - [git config --global credential.helper '!aws codecommit credential-helper $@', Setting up CodeCommit helper]
    - [git config --global credential.UseHttpPath true, Setting up CodeCommit helper (part 2)]
    - [curl -fLo ~/.vim/autoload/plug.vim --create-dirs https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vimrc, Installing vim-plug]
